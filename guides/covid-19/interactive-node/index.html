



<!doctype html>
<html lang="en" class="no-js">
  <head>
    <script src="//assets.adobedtm.com/launch-EN942f79c83ff84c10a45b4856a85eaccb.min.js" async></script>
    <script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-107924368-1","auto"),ga("send","pageview")</script>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Interactive nodes - St. Jude Cloud Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.7d2ef1ff.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.eca31fed.js"></script>
    
    
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#overview" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="St. Jude Cloud Documentation" aria-label="St. Jude Cloud Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../../images/stjude-logo-child-white.png" width="40" height="28">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              St. Jude Cloud Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Interactive nodes
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/stjudecloud/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    stjudecloud/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." class="md-tabs__link">
        Overview
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" class="md-tabs__link md-tabs__link--active">
          COVID-19 Quickstart
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../genomics-platform/" class="md-tabs__link">
          Genomics Platform
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../pecan/" class="md-tabs__link">
          PeCan
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../visualization-community/" class="md-tabs__link">
          Visualization Community
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../proteinpaint/" class="md-tabs__link">
          ProteinPaint
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../genomepaint/" class="md-tabs__link">
          GenomePaint
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../studies/" class="md-tabs__link">
          Studies
        </a>
      
    </li>
  

      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="St. Jude Cloud Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../../images/stjude-logo-child-white.png" width="48" height="48">
      
    </a>
    St. Jude Cloud Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/stjudecloud/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    stjudecloud/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../ecosystem/" title="About our Ecosystem" class="md-nav__link">
      About our Ecosystem
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      COVID-19 Quickstart
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        COVID-19 Quickstart
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upload-local/" title="Data upload (local)" class="md-nav__link">
      Data upload (local)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upload-cluster/" title="Data upload (HPC)" class="md-nav__link">
      Data upload (HPC)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../creating-a-cloud-app-covid/" title="Creating a cloud app" class="md-nav__link">
      Creating a cloud app
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Interactive nodes
      </label>
    
    <a href="./" title="Interactive nodes" class="md-nav__link md-nav__link--active">
      Interactive nodes
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-workstations" class="md-nav__link">
    Cloud Workstations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-ssh" class="md-nav__link">
    Configuring SSH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-the-workstation" class="md-nav__link">
    Connecting to the workstation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-workspace" class="md-nav__link">
    Setting up workspace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-files-from-your-dnanexus-project" class="md-nav__link">
    Downloading files from your DNAnexus project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uploading-files-back-to-your-project" class="md-nav__link">
    Uploading files back to your project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminating-the-session" class="md-nav__link">
    Terminating the session
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-nodes" class="md-nav__link">
    Interactive Nodes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-your-docker-hub-account" class="md-nav__link">
    Setting up your Docker Hub account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-credentials-file" class="md-nav__link">
    Creating a credentials file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-an-interactive-terminal-session" class="md-nav__link">
    Starting an interactive terminal session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-on-the-cwic-node" class="md-nav__link">
    Working on the CWIC node
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-bioinformatics-tools-to-your-environment" class="md-nav__link">
    Adding bioinformatics tools to your environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-your-environment" class="md-nav__link">
    Saving your environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-batch-jobs" class="md-nav__link">
    Running batch jobs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reloading-project-directory" class="md-nav__link">
    Reloading project directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-any-project-updates" class="md-nav__link">
    Saving any project updates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminating-the-cwic-node" class="md-nav__link">
    Terminating the CWIC node
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-options" class="md-nav__link">
    Advanced options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-instance-type" class="md-nav__link">
    Changing instance type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-a-docker-hub-repository-private" class="md-nav__link">
    Making a Docker Hub repository private
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../visualizing-ngs-data/" title="Visualizing NGS data" class="md-nav__link">
      Visualizing NGS data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Genomics Platform
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Genomics Platform
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/accounts-and-billing/" title="Accounts and Billing" class="md-nav__link">
      Accounts and Billing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Requesting Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Requesting Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/requesting-data/about-our-data/" title="About our Data" class="md-nav__link">
      About our Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/requesting-data/data-request/" title="Making a Data Request" class="md-nav__link">
      Making a Data Request
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/requesting-data/how-to-fill-out-DAA/" title="Filling Out a Data Access Agreement" class="md-nav__link">
      Filling Out a Data Access Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/requesting-data/glossary/" title="About our Decision Process & Terminology" class="md-nav__link">
      About our Decision Process & Terminology
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Managing Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Managing Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/managing-data/working-with-our-data/" title="Managing Data Overview" class="md-nav__link">
      Managing Data Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/managing-data/data-transfer-app/" title="Uploading/Downloading Data" class="md-nav__link">
      Uploading/Downloading Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/managing-data/how-to-fill-out-Extension/" title="Renewing your Data Access" class="md-nav__link">
      Renewing your Data Access
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Analyzing Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Analyzing Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/command-line/" title="Command Line Interaction" class="md-nav__link">
      Command Line Interaction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/running-sj-workflows/" title="Running our Workflows" class="md-nav__link">
      Running our Workflows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5-3" type="checkbox" id="nav-4-5-3">
    
    <label class="md-nav__link" for="nav-4-5-3">
      SJ Cloud Workflows
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-5-3">
        SJ Cloud Workflows
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/neoepitope/" title="NeoepitopePred" class="md-nav__link">
      NeoepitopePred
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/chipseq/" title="ChIP-Seq Peak Calling" class="md-nav__link">
      ChIP-Seq Peak Calling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/rapid-rnaseq/" title="Rapid RNA-Seq Fusion Detection" class="md-nav__link">
      Rapid RNA-Seq Fusion Detection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/warden/" title="WARDEN Differential Expression Analysis" class="md-nav__link">
      WARDEN Differential Expression Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/mutational-signatures/" title="Mutational Signatures" class="md-nav__link">
      Mutational Signatures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/sequencerr/" title="SequencErr" class="md-nav__link">
      SequencErr
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/cis-x/" title="cis-X" class="md-nav__link">
      cis-X
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/analyzing-data/creating-a-cloud-app/" title="Creating your own Workflow" class="md-nav__link">
      Creating your own Workflow
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomics-platform/faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      PeCan
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        PeCan
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../pecan/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../pecan/pecan-pie/" title="Pecan PIE" class="md-nav__link">
      Pecan PIE
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Visualization Community
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Visualization Community
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../visualization-community/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../visualization-community/proteinpaint/" title="ProteinPaint" class="md-nav__link">
      ProteinPaint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../visualization-community/genomepaint/" title="GenomePaint" class="md-nav__link">
      GenomePaint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../visualization-community/faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      ProteinPaint
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        ProteinPaint
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/navigating-the-protein-diagram/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/loading-datasets/" title="Loading Datasets" class="md-nav__link">
      Loading Datasets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/view-mutation-details/" title="Viewing SNV/Indel Mutations" class="md-nav__link">
      Viewing SNV/Indel Mutations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/exploring-gene-fusions/" title="Viewing Gene Fusions" class="md-nav__link">
      Viewing Gene Fusions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/exploring-gene-expression/" title="Viewing Expression Data" class="md-nav__link">
      Viewing Expression Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/filtering-mutations/" title="Filtering Mutations" class="md-nav__link">
      Filtering Mutations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/exporting-figures-and-data/" title="Exporting Figures and Data" class="md-nav__link">
      Exporting Figures and Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/using-the-gene-table/" title="Using the Gene Table" class="md-nav__link">
      Using the Gene Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/using-the-sample-table/" title="Using the Sample Table" class="md-nav__link">
      Using the Sample Table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/using-the-heatmap/" title="Using the Heatmap" class="md-nav__link">
      Using the Heatmap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/using-disease-pie-charts/" title="Using Disease Pie Charts" class="md-nav__link">
      Using Disease Pie Charts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/stratify-mutation-by-cancer-subtype/" title="Stratifying Mutations by Cancer Subtype" class="md-nav__link">
      Stratifying Mutations by Cancer Subtype
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      File Formats
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        File Formats
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/snv-and-indel/" title="SNV and Indel" class="md-nav__link">
      SNV and Indel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/sv-and-fusion/" title="SV and fusion transcript" class="md-nav__link">
      SV and fusion transcript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/cnv/" title="Copy Number Variants" class="md-nav__link">
      Copy Number Variants
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/itd/" title="Internal tandem duplications" class="md-nav__link">
      Internal tandem duplications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/intragenic-deletion/" title="Intragenic deletion" class="md-nav__link">
      Intragenic deletion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/truncation/" title="Trunction, N-loss or C-loss" class="md-nav__link">
      Trunction, N-loss or C-loss
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/json-bed/" title="JSON-BED" class="md-nav__link">
      JSON-BED
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/splice-junction/" title="Splice Junction" class="md-nav__link">
      Splice Junction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/pgv/" title="Profile-Gene-Value" class="md-nav__link">
      Profile-Gene-Value
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/file-formats/bampile/" title="Bampile" class="md-nav__link">
      Bampile
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      Advanced Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        Advanced Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/custom-protein-domains/" title="Add Custom Protein Domains" class="md-nav__link">
      Add Custom Protein Domains
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/using-custom-tracks/" title="Using Custom Tracks" class="md-nav__link">
      Using Custom Tracks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/visualize-custom-mutations/" title="Visualize Your Mutation Data" class="md-nav__link">
      Visualize Your Mutation Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/loading-snv-indel-mutations-from-a-file/" title="Loading SNV/Indel Mutations from a File" class="md-nav__link">
      Loading SNV/Indel Mutations from a File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/uploaded-mutation-data-user-interface/" title="Uploaded Mutation Data User Interface" class="md-nav__link">
      Uploaded Mutation Data User Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/loading-tcga-maf-file/" title="Loading a TCGA MAF File" class="md-nav__link">
      Loading a TCGA MAF File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/advanced-guides/using-a-vcf-file/" title="Loading a VCF File" class="md-nav__link">
      Loading a VCF File
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-5" type="checkbox" id="nav-7-5">
    
    <label class="md-nav__link" for="nav-7-5">
      Developer's Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-5">
        Developer's Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/developers-guide/embedding-proteinpaint/" title="Embedding ProteinPaint" class="md-nav__link">
      Embedding ProteinPaint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proteinpaint/developers-guide/organizing-data-into-a-study-view/" title="Organizing Data into a Study View" class="md-nav__link">
      Organizing Data into a Study View
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      GenomePaint
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        GenomePaint
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../genomepaint/" title="GenomePaint User Guide" class="md-nav__link">
      GenomePaint User Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Studies
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Studies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../studies/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../studies/sickle-cell/" title="Sickle Cell" class="md-nav__link">
      Sickle Cell
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../citing-stjude-cloud/" title="Citing St. Jude Cloud" class="md-nav__link">
      Citing St. Jude Cloud
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-workstations" class="md-nav__link">
    Cloud Workstations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-ssh" class="md-nav__link">
    Configuring SSH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-the-workstation" class="md-nav__link">
    Connecting to the workstation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-workspace" class="md-nav__link">
    Setting up workspace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-files-from-your-dnanexus-project" class="md-nav__link">
    Downloading files from your DNAnexus project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uploading-files-back-to-your-project" class="md-nav__link">
    Uploading files back to your project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminating-the-session" class="md-nav__link">
    Terminating the session
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-nodes" class="md-nav__link">
    Interactive Nodes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-your-docker-hub-account" class="md-nav__link">
    Setting up your Docker Hub account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-credentials-file" class="md-nav__link">
    Creating a credentials file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-an-interactive-terminal-session" class="md-nav__link">
    Starting an interactive terminal session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-on-the-cwic-node" class="md-nav__link">
    Working on the CWIC node
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-bioinformatics-tools-to-your-environment" class="md-nav__link">
    Adding bioinformatics tools to your environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-your-environment" class="md-nav__link">
    Saving your environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-batch-jobs" class="md-nav__link">
    Running batch jobs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reloading-project-directory" class="md-nav__link">
    Reloading project directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-any-project-updates" class="md-nav__link">
    Saving any project updates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminating-the-cwic-node" class="md-nav__link">
    Terminating the CWIC node
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-options" class="md-nav__link">
    Advanced options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-instance-type" class="md-nav__link">
    Changing instance type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-a-docker-hub-repository-private" class="md-nav__link">
    Making a Docker Hub repository private
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/stjudecloud/docs/edit/master/docs/guides/covid-19/interactive-node.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1>Interactive Nodes in the Cloud</h1>
<p>Apart from <a href="../creating-a-cloud-app-covid/">creating and running cloud apps</a>, you can request an interactive node in the cloud to use for iterative development. This can be particularly useful if you want to run some quick analyses on the cloud, want to run tools without creating an app, or want to submit jobs similar to <code>bsub</code> on the local St. Jude HPC.</p>
<p>This guide assumes that you have a DNAnexus account and have <code>dxpy</code> installed on your machine (view <a href="../upload-local/">the local data upload guide</a> for instructions on how to install <code>dxpy</code>).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All instructions in this guide should be run from your local machine, <em>not</em> the HPC cluster.</p>
</div>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>There are two different experiences for doing interactive or ad-hoc analysis in the cloud:</p>
<ul>
<li><strong>Cloud Workstations</strong>. Cloud workstations are a mature offering in the DNAnexus ecosystem, and you can use them in your production work. DNAnexus has <a href="https://documentation.dnanexus.com/developer/cloud-workstations">a full guide</a> on how to use cloud workstations. Unfortunately, they do not fully replicate the experience of an interactive node on the cluster: each time you ssh into a new cloud workstation, you get a blank machine with no dependencies or data installed. Thus, you need to configure your environment, download data to the node using <code>dx</code>, and upload results back to DNAnexus using <code>dx</code>.</li>
<li><strong>Interactive Nodes</strong>. Interactive nodes were created very recently between a partnership with St. Jude and DNAnexus. They offer a more complete alternative to interactive nodes in the HPC cluster, but the experience is currently in <strong>alpha</strong> (meaning that there are likely to be bugs and it is not ready for production use). We are actively looking for labs to partner with us to develop out this experience, so <a href="../getting-started/#apply-for-discovery-sponsorship-program">apply for the Discovery Sponsorship Program</a> if you are interested!</li>
</ul>
<p>In this guide, we will briefly mention how to use Cloud Workstations and then spend the rest of the guide explaining how to use our new Interactive Node experience.</p>
<h2 id="cloud-workstations">Cloud Workstations<a class="headerlink" href="#cloud-workstations" title="Permanent link">&para;</a></h2>
<p>A Cloud Workstation is a fresh node on the cloud that can be used to run any command with access to data in your projects. You will be given root access to the node so you can download and install any tool you require. Since this is an interactive session, you will be charged for the duration of the session so it is important to terminate the session after use.</p>
<h3 id="configuring-ssh">Configuring SSH<a class="headerlink" href="#configuring-ssh" title="Permanent link">&para;</a></h3>
<p>Run <code>dx ssh_config</code> to configure your account to allow use of SSH connections to the node.</p>
<h3 id="connecting-to-the-workstation">Connecting to the workstation<a class="headerlink" href="#connecting-to-the-workstation" title="Permanent link">&para;</a></h3>
<p>To start an interactive workstation, first select the project you would like to start it in.</p>
<div class="highlight"><pre><span></span><code>dx <span class="k">select</span> <span class="s2">&quot;project-alpha&quot;</span>
</code></pre></div>

<p>or just <code>dx select</code> to select from a list of your projects interactively.</p>
<p>Next, run <code>dx run app-cloud_workstation --ssh</code>. You can set the maximum session length for this session or continue with the default options.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The default node size for the cloud workstations are mem1_ssd1_x2. If you want to request a larger node size, you can specify it by adding the <code>--instance-type</code> option. Check the <a href="./interactive-node/#advanced-options">advanced options section</a> at the bottom for more information.</p>
</div>
<h3 id="setting-up-workspace">Setting up workspace<a class="headerlink" href="#setting-up-workspace" title="Permanent link">&para;</a></h3>
<p>Once you are connected to the node, you will have access to download and install tools to the node and use them. The node is a clean linux environment with the <code>dx</code> command line tool already installed.</p>
<p>In order to upload and download files from your DNAnexus project, you must first run the following commands.</p>
<div class="highlight"><pre><span></span><code><span class="nb">unset</span> DX_WORKSPACE_ID
dx <span class="nb">cd</span> <span class="s2">&quot;project-alpha:/&quot;</span>
</code></pre></div>

<h3 id="downloading-files-from-your-dnanexus-project">Downloading files from your DNAnexus project<a class="headerlink" href="#downloading-files-from-your-dnanexus-project" title="Permanent link">&para;</a></h3>
<p>The node has access to the data in your projects. To download a file, <code>test.bam</code>, from your parent project, just run <code>dx download test.bam</code>. To download a file from any project you have access to, just specify the project and path to the file in your download command like <code>dx download project-name:/path/to/test.bam</code>.</p>
<p>Once you have all the tools and data you require, you can use the workstation as a general-purpose workstation to run analyses. Note that in the Cloud Workstation, all files you want to use have to fit onto the local hard disk.</p>
<h3 id="uploading-files-back-to-your-project">Uploading files back to your project<a class="headerlink" href="#uploading-files-back-to-your-project" title="Permanent link">&para;</a></h3>
<p>Since the node is transient and will be deleted after the session is terminated, it is important to upload any required files to your project. You can do that by running <code>dx upload output.bam</code> or <code>dx upload --path "$project-alpha:" output.bam</code> if you selected another project in the workstation.</p>
<h3 id="terminating-the-session">Terminating the session<a class="headerlink" href="#terminating-the-session" title="Permanent link">&para;</a></h3>
<p>By default, the session will end after the max session time set when the workstation was first started. You can terminate the session when you are done working by <code>exit</code>ing out of the terminal. You will be asked whether you want to terminate the job, enter 'y' to terminate. You can also terminate the job by going to the Monitor tab of your project in DNAnexus and terminate the running job from the website.</p>
<p>For more information about cloud workstations, please refer to the <a href="https://documentation.dnanexus.com/developer/cloud-workstations">DNAnexus documentation</a>.</p>
<h2 id="interactive-nodes">Interactive Nodes<a class="headerlink" href="#interactive-nodes" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>The interactive node in the cloud experience was created specifically in response to the fully remote working situation. The experience is currently an <strong>alpha release</strong> and is not suitable for production use. Additionally, this guide will be updated each time we improve the experience, so please come back regularly to see how we are changing things.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>We are looking for labs across St. Jude to partner with us and tell us about their experience using the interactive node. If you are interested, please <a href="../getting-started/#apply-for-discovery-sponsorship-program">apply for the discovery sponsorship program</a>.</p>
</div>
<p>Cloud workstations are good for interactive work, but they require you to upload/download data from your projects. They also do not save your working environment so any tools you installed or changes you made to the machine will be lost when the session is terminated. The Interactive Node experience, sometimes referred to by its codename "CWIC" (cloud workstations in containers), solves these issues by saving your environment and letting you work with your data on the cloud without manually downloading it to the node.</p>
<h3 id="setting-up-your-docker-hub-account">Setting up your Docker Hub account<a class="headerlink" href="#setting-up-your-docker-hub-account" title="Permanent link">&para;</a></h3>
<p>The workstation uses Docker images pushed to a Docker Hub repository to save your environment. To get started, go to <a href="https://hub.docker.com/">Docker Hub</a> and sign in or create an account. Every Docker Hub account is given one free private repository. It is highly recommended to <a href="./interactive-node/#making-a-docker-hub-repository-private">use a private repository</a> as this will be your working environment.</p>
<p>Once you have a Docker Hub account, go to your "Account Settings", then "Security" and create a new access token.</p>
<p><img alt="Creating a new Docker Hub access token" src="../../../images/guides/covid-19/interactive-node-0.png" /></p>
<p>You can give it a descriptive name and copy the token.</p>
<p><img alt="Naming Docker Hub access token" src="../../../images/guides/covid-19/interactive-node-1.png" /></p>
<p><img alt="Saved Docker Hub access token" src="../../../images/guides/covid-19/interactive-node-2.png" /></p>
<p>The access token will be needed for the credentials file below.</p>
<h3 id="creating-a-credentials-file">Creating a credentials file<a class="headerlink" href="#creating-a-credentials-file" title="Permanent link">&para;</a></h3>
<p>Create a file with the template below and fill in your Docker Hub token and Docker Hub username in the appropriate places.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;docker_registry&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;token&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;YOUR_DOCKERHUB_TOKEN&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;organization&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;YOUR_DOCKERHUB_USERNAME&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;YOUR_DOCKERHUB_USERNAME&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;registry&quot;</span><span class="p">:</span> <span class="s2">&quot;docker.io&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If you would rather use a quay.io repository, you can use your quay credentials in the credentials file instead.</p>
</div>
<p>Once you have made your credentials file on your computer, make a new DNAnexus project to save your credentials using <code>dx new project</code>. Upload the credentials file to your project by running <code>dx upload creds.txt</code>. It is recommended to save your credentials in a separate, private DNAnexus project to ensure that others do not have access to it.</p>
<p><img alt="Uploading credentials file" src="../../../images/guides/covid-19/interactive-node-3.png" /></p>
<h3 id="starting-an-interactive-terminal-session">Starting an interactive terminal session<a class="headerlink" href="#starting-an-interactive-terminal-session" title="Permanent link">&para;</a></h3>
<p>The following command will run the app using the credentials you provided and will log you into the node after it boots up.</p>
<p><code>dx run app-cwic -icredentials=mycredentials:creds.txt --ssh -y</code></p>
<p>or replace <code>mycredentials</code> with the name of the DNAnexus project with your credentials file. If you have SSH issues while trying to connect to the job, make sure your SSH keys are <a href="https://documentation.dnanexus.com/developer/apps/execution-environment/connecting-to-jobs">configured properly</a>.</p>
<p><img alt="running CWIC app" src="../../../images/guides/covid-19/interactive-node-4.png" /></p>
<h3 id="working-on-the-cwic-node">Working on the CWIC node<a class="headerlink" href="#working-on-the-cwic-node" title="Permanent link">&para;</a></h3>
<p>Once the node starts, you will be taken to the home directory of the CWIC node. This node is an ubuntu environment and you can install or run any commands you want.</p>
<p><img alt="CWIC terminal" src="../../../images/guides/covid-19/interactive-node-5.png" /></p>
<p>For example, you can install <code>samtools</code> by running <code>sudo apt install samtools</code>.</p>
<p>There are two main directories to work with data:</p>
<ul>
<li>
<p><code>/scratch/</code> - This is the directory local to the node. You can use this directory to save any intermediate or temporary results. You can run tools here but all the data in this directory will be deleted once the node is terminated.</p>
</li>
<li>
<p><code>/project/</code> - This directory contains your DNAnexus project and the data in it. If you copy or move files to this directory, it saves to your DNAnexus project, which is a persistent storage. You can go to <code>/project/&lt;YOUR_DX_PROJECT_NAME&gt;</code> and see the files in your DNAnexus project.</p>
</li>
</ul>
<p><img alt="CWIC directories" src="../../../images/guides/covid-19/interactive-node-6.png" /></p>
<p>Upload some data to your project from a local machine for testing in the interactive node  here, we assume a BAM file uploaded from a laptop called <code>sample.bam</code>. Once data is uploaded to your DNAnexus project, you can access it on your CWIC node at <code>/project/&lt;YOUR_DX_PROJECT_NAME&gt;/test.bam</code>. For instance, when running <code>samtools index /project/&lt;YOUR_DX_PROJECT_NAME&gt;/test.bam</code>, you will find the index file samtools creates is saved to your cloud project.</p>
<h4 id="adding-bioinformatics-tools-to-your-environment">Adding bioinformatics tools to your environment<a class="headerlink" href="#adding-bioinformatics-tools-to-your-environment" title="Permanent link">&para;</a></h4>
<p>We recommend installing <a href="https://www.anaconda.com/distribution/">Anaconda</a> to manage any Python or R packages in your CWIC environment.</p>
<p>To install miniconda (a minimal installation of anaconda), run</p>
<div class="highlight"><pre><span></span><code>curl -O https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
sh Miniconda3-latest-Linux-x86_64.sh
<span class="nb">source</span> ~/.bashrc
</code></pre></div>

<p>Follow the instructions and select 'yes' to install conda and initialize it. After installing conda, we recommend adding the bioconda channel, which provides many bioinformatics packages.</p>
<div class="highlight"><pre><span></span><code>conda config --add channels defaults
conda config --add channels bioconda
conda config --add channels conda-forge
</code></pre></div>

<p>To install a package such as <code>bwa</code>, simply run</p>
<div class="highlight"><pre><span></span><code>conda install bwa -y
</code></pre></div>

<p>You can also create a new environment with conda called <code>bio</code> and install available packages like so:</p>
<div class="highlight"><pre><span></span><code>conda create -n bio bwa bowtie star -y
conda activate bio
bwa
</code></pre></div>

<h4 id="saving-your-environment">Saving your environment<a class="headerlink" href="#saving-your-environment" title="Permanent link">&para;</a></h4>
<p>If you installed <code>samtools</code>, or any other tool to the node and want to save your environment, you can run <code>dx-save-cwic</code>. This will save the environment to your Docker Hub repository. Unfortunately, this is a manual step at the moment: in a future iteration, we plan to have this save your environment automatically.</p>
<p>The next time you launch a CWIC node in this project, it will put you in an node with your saved environment. Therefore you will not need to reinstall samtools or any other tool you had in your environment.</p>
<h4 id="running-batch-jobs">Running batch jobs<a class="headerlink" href="#running-batch-jobs" title="Permanent link">&para;</a></h4>
<p>We can dispatch non-interactive jobs from the node to parallelize analyses similar to a <code>bsub</code> experience on the HPC.</p>
<p>First, you need to login to DNAnexus on the node.</p>
<p><code>dx login --noprojects --token &lt;dnanexus-user-token-from-ui&gt;</code></p>
<p>You can use samtools to split the bam by chromosome like below by specifying a command with the CWIC app. This will run the specified command with the saved environment and you can save the outputs to the <code>/project</code> directory which will save it in your DNAnexus project.</p>
<div class="highlight"><pre><span></span><code>root@cwic:~# <span class="nv">chromosomes</span><span class="o">=(</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">8</span> <span class="m">9</span> <span class="m">10</span> <span class="m">11</span> <span class="m">12</span> <span class="m">13</span> <span class="m">14</span> <span class="m">15</span> <span class="m">16</span> <span class="m">17</span> <span class="m">18</span> <span class="m">19</span> <span class="m">20</span> <span class="m">21</span> <span class="m">22</span><span class="o">)</span>
root@cwic:~# <span class="k">for</span> chr in <span class="si">${</span><span class="nv">chromosomes</span><span class="p">[@]</span><span class="si">}</span><span class="p">;</span> <span class="k">do</span>
  <span class="nb">echo</span> <span class="nv">$chr</span><span class="p">;</span>
  dx run app-cwic  <span class="se">\</span>
    -icredentials<span class="o">=</span>&lt;DX_PROJECT_WITH_CREDS&gt;:creds.txt <span class="se">\</span>
    -icmd<span class="o">=</span><span class="s2">&quot;samtools view -b /project/&lt;YOUR_DX_PROJECT_NAME&gt;/test.bam </span><span class="si">${</span><span class="nv">chr</span><span class="si">}</span><span class="s2"> -o /project/&lt;YOUR_DX_PROJECT_NAME&gt;/bam_</span><span class="si">${</span><span class="nv">chr</span><span class="si">}</span><span class="s2">.bam;&quot;</span> <span class="se">\</span>
    -y<span class="p">;</span>
<span class="k">done</span>
</code></pre></div>

<p>After your jobs have finished running. You can run <code>dx-reload-project</code> to refresh the <code>/project</code> directory and see the newly added chromosome slices.</p>
<h4 id="reloading-project-directory">Reloading project directory<a class="headerlink" href="#reloading-project-directory" title="Permanent link">&para;</a></h4>
<p>You may not see the updated files in your <code>/project/&lt;YOUR_PROJECT_NAME&gt;</code> directory immediately after they are added. In order to reload the project directory on the CWIC node with the latest files from your DNAnexus project, run <code>dx-reload-project</code> and you will see any new files. Unfortunately, this is a manual step at the moment: in a future iteration, we plan to have this update your files automatically.</p>
<p>If you get a message such as <code>umount: /project: target is busy.</code>, <code>cd</code> into a directory other than <code>/project</code> and try reloading again.</p>
<h4 id="saving-any-project-updates">Saving any project updates<a class="headerlink" href="#saving-any-project-updates" title="Permanent link">&para;</a></h4>
<p>Updates to any files in the <code>/project</code> directory only occur every 5 minutes. In order to propagate any recent updates, run <code>dx-save-project</code> to save the files to the DNAnexus project. In the future, we plan to have file syncing happen automatically whenever you update a file.</p>
<h3 id="terminating-the-cwic-node">Terminating the CWIC node<a class="headerlink" href="#terminating-the-cwic-node" title="Permanent link">&para;</a></h3>
<p>Since the CWIC node is an interactive job, it gets billed for the duration of the job. Therefore it is important to terminate the node once you are done working.</p>
<p>Save your work and environment, if needed, by running <code>dx-save-project</code> and <code>dx-save-cwic</code> respectively. To quit the node, type <code>exit</code> twice to get into the app execution environment. Press <code>Ctrl+c</code> to quit the CWIC app and type <code>exit</code> twice to get out of the terminal completely. You will be prompted to terminate the job, type 'y' to terminate the job. You can check if the node is still running by checking the Monitor tab in your project on the DNAnexus website. Alternatively, you can terminate the job from the Monitor tab.</p>
<h2 id="advanced-options">Advanced options<a class="headerlink" href="#advanced-options" title="Permanent link">&para;</a></h2>
<h3 id="changing-instance-type">Changing instance type<a class="headerlink" href="#changing-instance-type" title="Permanent link">&para;</a></h3>
<p>If you require more or less runtime requirements for your nodes, you can change the instance type by specifying the flag <code>--instance-type</code> with a valid instance type from <a href="https://documentation.dnanexus.com/developer/api/running-analyses/instance-types#summary-of-instance-types">this list</a>.</p>
<div class="highlight"><pre><span></span><code>dx run app-cloud_workstation --instance-type azure:mem1_ssd1_x16 --ssh
</code></pre></div>

<p>or</p>
<div class="highlight"><pre><span></span><code>dx run app-cwic -icredentials<span class="o">=</span>&lt;DX_PROJECT_NAME_WITH_CREDS&gt;:creds.txt --instance-type mem1_ssd1_x4 --ssh -y
</code></pre></div>

<p>This is useful when you want to run some non-interactive jobs that have different memory or storage requirements.</p>
<p>If you have any questions or suggestions on how we can improve this guide, please <a href="https://github.com/stjudecloud/docs/issues">file an issue</a>, contact us at <a href="https://stjude.cloud/contact">https://stjude.cloud/contact</a>, or email us at <a href="mailto:support@stjude.cloud">support@stjude.cloud</a>.</p>
<h3 id="making-a-docker-hub-repository-private">Making a Docker Hub repository private<a class="headerlink" href="#making-a-docker-hub-repository-private" title="Permanent link">&para;</a></h3>
<p>By default, the workstation creates a new public repository in Docker Hub. It is best practice to use a private repository so that your work environment is not publicly visible on Docker Hub. Follow the steps below to update an existing public repository to a private one. This should be done after you have already run <code>dx-save-cwic</code> once in the interactive session.</p>
<p>First, go to your repositories page and click on the repository you want to make private.</p>
<p><img alt="Docker Hub Repositories" src="../../../images/guides/covid-19/make-dockerhub-repo-private/1.png" /></p>
<p>Next, go to the 'Settings' tab and click on the 'Make private' button.</p>
<p><img alt="Docker Hub Repository Settings" src="../../../images/guides/covid-19/make-dockerhub-repo-private/2.png" /></p>
<p>Type the name of the repository and click on the 'Make private' button.</p>
<p><img alt="Docker Hub Repository Make Private" src="../../../images/guides/covid-19/make-dockerhub-repo-private/3.png" /></p>
<p>Finally, you can see the repository is now set to private and you can continue using interactive sessions as normal.</p>
<p><img alt="Docker Hub Repositories with Private" src="../../../images/guides/covid-19/make-dockerhub-repo-private/4.png" /></p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../creating-a-cloud-app-covid/" title="Creating a cloud app" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Creating a cloud app
              </span>
            </div>
          </a>
        
        
          <a href="../visualizing-ngs-data/" title="Visualizing NGS data" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Visualizing NGS data
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 St. Jude Children's Research Hospital
          </div>
        
        
        built from <a href="https://github.com/stjudecloud/docs/tree/635485e">635485e</a> using
        
        <a href="https://www.mkdocs.org">MkDocs</a>
        and a modified version of
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs
        </a>.
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://www.facebook.com/stjuderesearch/" target="_blank" rel="noopener" title="facebook" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://twitter.com/stjuderesearch?lang=en" target="_blank" rel="noopener" title="twitter" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/st-jude-childrens-research-hospital" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://github.com/stjude" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.2d55c750.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script>
      
    
  </body>
</html>